<!DOCTYPE html>
<html lang="ko">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚˜ì˜ ë°ì´ ì•±</title>

<link rel="icon" type="image/png" href="favicon.png">

    <script src="https://unpkg.com/dexie@3.2.3/dist/dexie.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ffeef8 0%, #ffe0f0 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #ffeef8 0%, #ffe0f0 100%);
            opacity: 0.2;
            z-index: -1;
        }
        
        /* í…Œë§ˆë³„ ë°°ê²½ ì˜¤ë²„ë ˆì´ */
        body.theme-yellow::before {
            background: linear-gradient(135deg, #fff9e6 0%, #fffacd 100%);
        }
        
        body.theme-blue::before {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
        }
        
        body.theme-pink::before {
            background: linear-gradient(135deg, #ffeef8 0%, #ffe0f0 100%);
        }
        
        body.theme-white::before {
            background: linear-gradient(135deg, #ffffff 0%, #f5f5f5 100%);
        }

        .container {
            width: 100%;
            max-width: 400px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            padding: 30px 20px 20px 20px;
            box-shadow: 0 10px 40px rgba(233, 30, 99, 0.2);
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .title {
            font-size: 1.8em;
            font-weight: bold;
            color: #e91e63;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .color-dots {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 10px;
        }

        .dot {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .dot:hover {
            transform: scale(1.2);
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
        }

        .dot.active {
            border: 3px solid #e91e63;
            transform: scale(1.1);
        }

        .dot.yellow { background: #ffd700; }
        .dot.blue { background: #64b5f6; }
        .dot.pink { background: #ec407a; }
        .dot.white { background: #ffffff; border: 2px solid #ddd; }

        .app-card {
            background: linear-gradient(135deg, #ffc1e3 0%, #ffb3d9 100%);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: none;
            width: 100%;
            text-align: left;
        }
        
        /* í…Œë§ˆë³„ ì•± ì¹´ë“œ ìƒ‰ìƒ */
        body.theme-yellow .app-card {
            background: linear-gradient(135deg, #fff176 0%, #ffd54f 100%);
        }
        
        body.theme-blue .app-card {
            background: linear-gradient(135deg, #81d4fa 0%, #4fc3f7 100%);
        }
        
        body.theme-pink .app-card {
            background: linear-gradient(135deg, #ffc1e3 0%, #ffb3d9 100%);
        }
        
        body.theme-white .app-card {
            background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
        }

        .app-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(233, 30, 99, 0.3);
        }

        .app-card:active {
            transform: translateY(-2px);
        }

        .app-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 100%);
            pointer-events: none;
        }

        .app-icon {
            font-size: 3em;
            text-align: center;
            margin-bottom: 10px;
        }

        .app-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #c2185b;
            text-align: center;
            margin-bottom: 5px;
        }

        .app-subtitle {
            font-size: 0.9em;
            color: #880e4f;
            text-align: center;
            opacity: 0.8;
        }

        /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” - ì»¨í…Œì´ë„ˆ ë‚´ë¶€ */
        .bottom-nav {
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            border-top: 2px solid #ffc1e3;
            margin-top: 20px;
            border-radius: 0 0 30px 30px;
            margin-left: -20px;
            margin-right: -20px;
            margin-bottom: -20px;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            background: none;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            padding: 5px 15px;
            border-radius: 10px;
        }

        .nav-item:hover {
            background: #ffeef8;
        }

        .nav-item.active {
            background: #ffc1e3;
        }

        .nav-icon {
            font-size: 1.5em;
            color: #e91e63;
        }

        .nav-label {
            font-size: 0.7em;
            color: #c2185b;
            font-weight: bold;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .page-content {
            display: none;
            animation: fadeIn 0.5s ease;
            flex-grow: 1;
        }

        .page-content.active {
            display: block;
        }

        /* ê° ì•± í˜ì´ì§€ìš© iframe ìŠ¤íƒ€ì¼ */
        .app-iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 15px;
            background: white;
        }

        .iframe-container {
            width: 100%;
            height: calc(100vh - 250px);
            min-height: 500px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ë©”ì¸ í™ˆ í™”ë©´ -->
        <div id="homePage" class="page-content active">
            <div class="header">
                <div class="title">
                    âœ¨ ë‚˜ì˜ ë°ì´ ì•± âœ¨
                </div>
                <div class="color-dots">
                    <div class="dot yellow" onclick="changeBackground('yellow')" title="ë…¸ë€ìƒ‰ í…Œë§ˆ"></div>
                    <div class="dot blue" onclick="changeBackground('blue')" title="íŒŒë€ìƒ‰ í…Œë§ˆ"></div>
                    <div class="dot pink active" onclick="changeBackground('pink')" title="í•‘í¬ìƒ‰ í…Œë§ˆ"></div>
                    <div class="dot white" onclick="changeBackground('white')" title="í™”ì´íŠ¸ í…Œë§ˆ"></div>
                </div>
            </div>

            <button class="app-card" onclick="showPage('todo')">
                <div class="app-icon">ğŸ¯</div>
                <div class="app-title">ì˜¤ëŠ˜ì˜ í•  ì¼ (TODO)</div>
                <div class="app-subtitle">ğŸ“Š 0 / 60P</div>
            </button>

            <button class="app-card" onclick="showPage('diary')">
                <div class="app-icon">ğŸ“</div>
                <div class="app-title">ë‚˜ì˜ ì•Œê¸°ì¥ (DIARY)</div>
                <div class="app-subtitle">âœï¸ ë‚˜ì˜ ê¸°ë¡</div>
            </button>

            <button class="app-card" onclick="showPage('budget')">
                <div class="app-icon">ğŸ’°</div>
                <div class="app-title">ê°€ê³„ë¶€ (BUDGET)</div>
                <div class="app-subtitle">ğŸ’µ 222,000ì›</div>
            </button>
        </div>

        <!-- TODO í˜ì´ì§€ -->
        <div id="todoPage" class="page-content">
            <div class="iframe-container">
                <iframe id="todoFrame" class="app-iframe" src="todo.html"></iframe>
            </div>
        </div>

        <!-- DIARY í˜ì´ì§€ -->
        <div id="diaryPage" class="page-content">
            <div class="iframe-container">
                <iframe id="diaryFrame" class="app-iframe" src="diary.html"></iframe>
            </div>
        </div>

        <!-- BUDGET í˜ì´ì§€ -->
        <div id="budgetPage" class="page-content">
            <div class="iframe-container">
                <iframe id="budgetFrame" class="app-iframe" src="budget.html"></iframe>
            </div>
        </div>

        <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ (ì»¨í…Œì´ë„ˆ ë‚´ë¶€ë¡œ ì´ë™) -->
        <div class="bottom-nav">
            <button class="nav-item active" onclick="showPage('home')" id="navHome">
                <div class="nav-icon">ğŸ </div>
                <div class="nav-label">í™ˆ</div>
            </button>
            <button class="nav-item" onclick="showPage('todo')" id="navTodo">
                <div class="nav-icon">ğŸ¯</div>
                <div class="nav-label">í• ì¼</div>
            </button>
            <button class="nav-item" onclick="showPage('diary')" id="navDiary">
                <div class="nav-icon">ğŸ“</div>
                <div class="nav-label">ì¼ê¸°</div>
            </button>
            <button class="nav-item" onclick="showPage('budget')" id="navBudget">
                <div class="nav-icon">ğŸ’°</div>
                <div class="nav-label">ê°€ê³„ë¶€</div>
            </button>
        </div>
    </div>

    <script>
        // ë°°ê²½ìƒ‰ í…Œë§ˆ ë³€ê²½ í•¨ìˆ˜
        function changeBackground(color) {
            const body = document.body;
            
            // ê¸°ì¡´ í…Œë§ˆ í´ë˜ìŠ¤ ì œê±°
            body.classList.remove('theme-yellow', 'theme-blue', 'theme-pink', 'theme-white');
            
            // ëª¨ë“  dotì˜ active í´ë˜ìŠ¤ ì œê±°
            document.querySelectorAll('.dot').forEach(dot => {
                dot.classList.remove('active');
            });
            
            // í´ë¦­í•œ dotì— active í´ë˜ìŠ¤ ì¶”ê°€
            event.target.classList.add('active');
            
            // ë°°ê²½ìƒ‰ ë° í…Œë§ˆ í´ë˜ìŠ¤ ë³€ê²½ (ë¶ˆíˆ¬ëª…í•œ ë°°ê²½)
            body.classList.add(`theme-${color}`);
            
            switch(color) {
                case 'yellow':
                    body.style.background = 'linear-gradient(135deg, #fff9e6 0%, #fffacd 100%)';
                    break;
                case 'blue':
                    body.style.background = 'linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%)';
                    break;
                case 'pink':
                    body.style.background = 'linear-gradient(135deg, #ffeef8 0%, #ffe0f0 100%)';
                    break;
                case 'white':
                    body.style.background = 'linear-gradient(135deg, #ffffff 0%, #f5f5f5 100%)';
                    break;
            }
            
            // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
            localStorage.setItem('bgColor', color);
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì €ì¥ëœ ë°°ê²½ìƒ‰ ì ìš©
        window.addEventListener('load', function() {
            const savedColor = localStorage.getItem('bgColor') || 'pink';
            
            // í…Œë§ˆ ì ìš©
            document.body.classList.add(`theme-${savedColor}`);
            
            // ë°°ê²½ìƒ‰ ì ìš©
            switch(savedColor) {
                case 'yellow':
                    document.body.style.background = 'linear-gradient(135deg, #fff9e6 0%, #fffacd 100%)';
                    break;
                case 'blue':
                    document.body.style.background = 'linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%)';
                    break;
                case 'pink':
                    document.body.style.background = 'linear-gradient(135deg, #ffeef8 0%, #ffe0f0 100%)';
                    break;
                case 'white':
                    document.body.style.background = 'linear-gradient(135deg, #ffffff 0%, #f5f5f5 100%)';
                    break;
            }
            
            // ì €ì¥ëœ ìƒ‰ìƒì˜ dotì— active í´ë˜ìŠ¤ ì¶”ê°€
            document.querySelectorAll('.dot').forEach(dot => {
                dot.classList.remove('active');
            });
            const savedDot = document.querySelector(`.dot.${savedColor}`);
            if (savedDot) {
                savedDot.classList.add('active');
            }
        });

        function showPage(pageName) {
            // ëª¨ë“  í˜ì´ì§€ ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.remove('active');
            });

            // ëª¨ë“  ë„¤ë¹„ê²Œì´ì…˜ ì•„ì´í…œ ë¹„í™œì„±í™”
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });

            // ì„ íƒëœ í˜ì´ì§€ í‘œì‹œ
            if (pageName === 'home') {
                document.getElementById('homePage').classList.add('active');
                document.getElementById('navHome').classList.add('active');
            } else if (pageName === 'todo') {
                document.getElementById('todoPage').classList.add('active');
                document.getElementById('navTodo').classList.add('active');
            } else if (pageName === 'diary') {
                document.getElementById('diaryPage').classList.add('active');
                document.getElementById('navDiary').classList.add('active');
            } else if (pageName === 'budget') {
                document.getElementById('budgetPage').classList.add('active');
                document.getElementById('navBudget').classList.add('active');
            }

            // í™”ë©´ ë§¨ ìœ„ë¡œ ìŠ¤í¬ë¡¤
            window.scrollTo(0, 0);
        }
    </script>
</body>
</html>